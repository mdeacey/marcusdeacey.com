@tailwind base;
@tailwind components;
@tailwind utilities;

:root {
  /* Centralized color system - light mode */
  --bg-primary: theme('colors.bg.primary.light');
  --bg-secondary: theme('colors.bg.secondary.light');
  --bg-surface: theme('colors.bg.surface.light');
  --bg-elevated: theme('colors.bg.elevated.light');

  --text-primary: theme('colors.text.primary.light');
  --text-heading: theme('colors.text.heading.light');
  --text-accent: theme('colors.text.accent.light');

  --border-primary: theme('colors.border.primary.light');
  --border-subtle: theme('colors.border.subtle.light');

  --decoration-primary: theme('colors.decoration.primary.light');
  --decoration-hover: theme('colors.decoration.hover.light');

  --interactive-hover: theme('colors.interactive.hover.light');
}

html.dark {
  /* Centralized color system - dark mode */
  --bg-primary: theme('colors.bg.primary.dark');
  --bg-secondary: theme('colors.bg.secondary.dark');
  --bg-surface: theme('colors.bg.surface.dark');
  --bg-elevated: theme('colors.bg.elevated.dark');

  --text-primary: theme('colors.text.primary.dark');
  --text-heading: theme('colors.text.heading.dark');
  --text-accent: theme('colors.text.accent.dark');

  --border-primary: theme('colors.border.primary.dark');
  --border-subtle: theme('colors.border.subtle.dark');

  --decoration-primary: theme('colors.decoration.primary.dark');
  --decoration-hover: theme('colors.decoration.hover.dark');

  --interactive-hover: theme('colors.interactive.hover.dark');
}

/* Utility classes for common color patterns */
@layer utilities {
  .bg-primary { background-color: var(--bg-primary); }
  .bg-secondary { background-color: var(--bg-secondary); }
  .bg-surface { background-color: var(--bg-surface); }
  .bg-elevated { background-color: var(--bg-elevated); }

  .text-primary { color: var(--text-primary); }
  .text-heading { color: var(--text-heading); }
  .text-accent { color: var(--text-accent); }

  .border-primary { border-color: var(--border-primary); }
  .border-subtle { border-color: var(--border-subtle); }

  .decoration-primary { text-decoration-color: var(--decoration-primary); }
  .decoration-hover { text-decoration-color: var(--decoration-hover); }

  .hover-bg-primary:hover { background-color: var(--interactive-hover); }
  .hover-text-accent:hover { color: var(--text-accent); }
  .hover-decoration-hover:hover { text-decoration-color: var(--decoration-hover); }
}

html {
  overflow-y: scroll;
  color-scheme: light;
}

html.dark {
  color-scheme: dark;
}


html,
body {
  @apply size-full;
}

body {
  @apply font-sans antialiased;
  @apply flex flex-col;
  background-color: var(--bg-primary);
  color: var(--text-primary);
}

header {
  @apply fixed top-0 left-0 right-0 z-50 py-5;
  background-color: var(--bg-secondary);
  @apply backdrop-blur-sm saturate-200;
}

main {
  @apply flex-1 py-32;
}

footer {
  @apply py-5 text-sm;
}

article {
  @apply max-w-full prose dark:prose-invert prose-img:mx-auto prose-img:my-auto;
  @apply prose-headings:font-semibold prose-p:font-sans;
  color: var(--text-heading);
}

/* Override heading sizes in articles - using Tailwind font scale */
article h1 {
  @apply text-5xl leading-tight;
}
article h2 {
  @apply text-4xl leading-tight;
}
article h3 {
  @apply text-3xl leading-normal;
}
article h4 {
  @apply text-2xl leading-relaxed;
}
article h5 {
  @apply text-xl leading-relaxed;
}
article h6 {
  @apply text-lg leading-normal;
}

/* Override table sizes in articles - using Tailwind font scale */
article table {
  @apply text-base;
}
article th {
  @apply text-base font-semibold;
}
article td {
  @apply text-base;
}

/* Override code fonts in articles */
article code {
  @apply text-sm font-mono px-1 py-0.5 rounded;
  background-color: var(--bg-surface);
}
article pre {
  @apply text-sm font-mono p-4 rounded-lg overflow-x-auto;
  background-color: var(--bg-elevated);
}
article pre code {
  @apply text-sm font-mono px-0 py-0;
  background-color: transparent;
}

@layer utilities {
  article a {
    @apply font-sans text-current underline underline-offset-2;
    text-decoration-color: var(--decoration-primary);
    @apply transition-colors duration-300 ease-in-out;
  }
  article a:hover {
    color: var(--text-accent);
    text-decoration-color: var(--decoration-hover);
  }
}

.animate {
  @apply opacity-0 translate-y-3;
  @apply transition-all duration-700 ease-out;
}

.animate.show {
  @apply opacity-100 translate-y-0;
}

html #back-to-top {
  @apply opacity-0 pointer-events-none;
}

html.scrolled #back-to-top {
  @apply opacity-100 pointer-events-auto;
}